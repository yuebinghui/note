我们要学习一种新的数据结构，叫做树

那二叉树，是一种特殊的树，
由于二叉树的使用面很广。
同时也是我们考研当中的重点内容，所以我们会专门花几个小节来讲解二叉树这种特殊的树。

好，那这个小节我们是要先来认识树这种数据结构，
它呈现出一种什么样的逻辑特性，
也就是说它的逻辑结构是什么样的？

另外，我们会介绍几个和数相关的基本术语，那这些术语都是会在我们考试当中出现的。
同时，我们在之后的讲解当中，也经常会使用到这些术语。

![image-20241023145552547](/Users/yuebinghui/Documents/program/github/note/images/image-20241023145552547.png)

## 树的基本概念

那首先来看树的逻辑结构长什么样？
其实顾名思义，它和我们大自然当中看到的树是很相似的，就是从一个树根出发。然后往上依次生长，会长出很多很多的分支，每一个分支又会长出新的小的分支，

### 根结点

那我们的这种数据结构其实在逻辑上也是呈现出了这样的特性。
从一个被称为根结点的结点出发，
然后依次长出各个分支，
每一个分支上又可以连接一个新的结点。

### 边

那这些分支我们还可以把它称为边，

### 分支结点-非终端结点

另外像这个图里边橙色的这些结点，
它们又依次还有下一级的分支，
所以像这种结点我们可以把它称为分支结点。

### 叶子结点-终端结点

而绿色的这些结点，由于它们下面已经没有别的分支了，所以我们可以把它称为叶子结点，

其实和树的叶子还有分支是十分类似的。那像这棵树里边的各个结点，
其实就是用于存放我们的数据元素。
你可以在里面存整数，存字符，存字符串等等。
各个数据元素之间呈现了这种分层分支的关系。

当然了，树这种数据结构还有一种比较特殊的形态，

### 空树

就是空树，也就是说结点数为零，没有任何一个结点。

### 非空树

那与之对应的，像右边这个数就可以把它称为非空树，对于一个非空树来说，它肯定有且仅有一个根结点。

![image-20241023150132576](/Users/yuebinghui/Documents/program/github/note/images/image-20241023150132576.png)

我们在讲线性表的时候提到过两个概念，叫做前驱和后继，

### 后继

其实在树里边也有前驱和后继，
这个说法比如说c这个结点就是a这个结点的后继。而g又是c的后继。

### 前驱

而前驱的概念也很好理解，比如说h这个结点就是m的前驱，

<u>那大家会发现在一个非空树当中，只有根结点是没有前驱，而其他的所有结点都可以找到一个它的前驱。</u>

<u>另外，只有叶子结点，它是没有后继的</u>

<u>而有后继的，这些结点就是分支结点，</u>

那叶子结点也可以把它称为终端结点。分支结点可以把它称为非终端结点，不过这两个术语出现的频率很低，
基本上都是用这样的方式来描述。

那刚才我们说过，<u>除了根结点之外，每一个结点都会找到一个前驱，并且只能找到一个。不可能有多个前驱。</u>

![image-20241023150647856](/Users/yuebinghui/Documents/program/github/note/images/image-20241023150647856.png)

如果每个结点可以找到多个前驱，
比如说这儿的f结点可以认为b是它的前驱，e是它的前驱，它有两个前驱，那这样的数据结构就不是树。

类似的像右边这种情况m这个结点，它有两个前驱，所以它也不是树，

那这两种数据结构我们应该把它称为图，或者说网。也就是再往后一章要学习的呃，那个数据结构。

![image-20241023150753053](/Users/yuebinghui/Documents/program/github/note/images/image-20241023150753053.png)



**所以需要注意，对于树这种数据结构来说，除了根结点之外，任何一个结点都有，且仅有一个前驱。**

好，那这是我们课本上给的一个比较数学化的描述，那什么叫结点，什么叫空数，什么叫非空树，什么叫根结点，这些我们已经都知道了。

![image-20241023151121434](/Users/yuebinghui/Documents/program/github/note/images/image-20241023151121434.png)

### 子树

这还需要补充一个概念，叫做子树。

比如，对于这棵树来说

a是它的根结点，我们可以说这个根结点，它有三棵子树。

并且这三棵子树都是互不相交的，

那这所谓的互不相交，其实和刚才我们说每一个结点只有一个前驱是同一个意思。
比如说我们在c和d这两个结点之间再建立一条边，那么它们之间就相交了，对吧？
同时我们也可以换一种说法，说d这个结点它有两个前驱。
那这样的话就不满足树的定义，
<u>所以根结点的这些子树一定是要互不相交的。</u>

![image-20241023151331877](/Users/yuebinghui/Documents/program/github/note/images/image-20241023151331877.png)

好，那其实所谓的子树，我们又可以把它看作一个新的树，比如说左边这个部分，
我们可以把它看作一个新的树，

那b结点就成了这个树的根结点。同样的，
我们也可以把这棵树再切分为两个不相交的子树。

像右边这个子树F，它就只有一个结点，那我们可以把右边的这棵子树看作是只有一个根结点，
同时它的子树都是空树的，这样的一个树。

因此可以看到，树其实是一种递归定义的数据结构。任何一个树都可以看作是由根结点和若干个不相交的子树所组成的。

![image-20241023151522643](/Users/yuebinghui/Documents/program/github/note/images/image-20241023151522643.png)

## 树形逻辑结构的应用

好，那这就是和树相关的一些，我们需要认识的基本术语。
那现在我们知道了这种数据结构，
它在逻辑上呈现一种什么样的形状？
那这种逻辑结构其实在生活当中有很多很多的应用。

比如说一个国家，它可以划分为多个行政区，而不同的行政区下面又可以划分为更小的子行政区。那这就是一个典型的树形结构，

另外像大家熟悉的啊，我们电脑里边的文件系统，其实它也是一个树形结构的，由一个盘里边，你可以建立。各种各样的文件夹，然后在文件夹下面，你还可以再建立更深一层的文件夹，当然也可以存放某一些文件，
那这些一级一级的文件夹和文件之间，其实它们也呈现出一种树形的逻辑结构。
所以像电脑里面的文件系统，它的实现也需要使用到树这种数据结构，

那除了这些之外，我们开篇给的这个思维导图，
其实它也是一个树形的结构，
你看这是一个根结点。
根结点下面分为了两个不相交的子树，
而这个子树下面又可以分为
四个不相交的子树。
所以如果让你开发一个思维导图软件的话，那你肯定就需要用树形结构来存储这些各个结点的信息。总之数这种数据结构其实是应用面很广的

![image-20241023151800079](/Users/yuebinghui/Documents/program/github/note/images/image-20241023151800079.png)

## 结点之间的关系描述

好，那接下来我们要看一下和树相关的一些基本术语。
首先来看一下我们怎么描述各个结点之间的关系，
其实结点之间的关系描述来自于我们的家谱，

比如说呃。爷爷这个人，他生了三个孩子。分别是父亲，他是老大，然后二叔和三叔，
然后父亲生了你

好，那接下来描述结点之间关系，有这样的几个术语，
大家结合这个图看一下，是不是很直观？

### 祖先结点

什么是祖先结点呢？
对于你来说，你父亲还有你爷爷是不是都是你的祖先？
所以所谓的祖先结点就是从一个结点出发，然后一直往上走走走。直到走到根结点为止，这条路径上所经过的所有的结点都是这个结点的祖先结点。

那像对于m这个结点来说，是不是h，3叔，还有爷爷这些都是他祖先结点

![image-20241023152059929](/Users/yuebinghui/Documents/program/github/note/images/image-20241023152059929.png)

### 子孙结点

好，第二个什么叫子孙结点？对于爷爷来说，是不是下面这些都是他的子孙啊？

![image-20241023152150444](/Users/yuebinghui/Documents/program/github/note/images/image-20241023152150444.png)

所以什么是子孙结点呢？就是从一个结点出发。
然后它的这些分支下面长出的这些果实都是它的子孙结点

![image-20241023152205601](/Users/yuebinghui/Documents/program/github/note/images/image-20241023152205601.png)

### 双亲结点（父结点）

再往后什么是双亲结点或者父结点，

这很显然吧。对于你来说，
你的父亲就是他，对吧？
所以你这个结点的父结点就是他
用之前我们说的前驱和后继的概念来理解的话，<u>那就是一个结点的直接前驱。就是它的父结点。</u>

![image-20241023152336139](/Users/yuebinghui/Documents/program/github/note/images/image-20241023152336139.png)

### 孩子结点

好，那与此相对应的，什么叫孩子结点就是一个结点的，直接后继就是孩子结点，
因为你是你父亲的孩子，

![image-20241023152406556](/Users/yuebinghui/Documents/program/github/note/images/image-20241023152406556.png)

### 兄弟结点

对吧？好再往后，什么是兄弟结点呢？
就是一个爹生的这几个结点，
他们之间就是兄弟的关系，
所以你可以说二叔这个结点是父亲的兄弟结点。

![image-20241023152430992](/Users/yuebinghui/Documents/program/github/note/images/image-20241023152430992.png)

那对于你这个结点来说，是不是f它是你的兄弟结点？

![image-20241023152508181](/Users/yuebinghui/Documents/program/github/note/images/image-20241023152508181.png)

### 堂兄弟结点

好，那什么是堂兄弟结点呢？
在现实世界里边，
你叔叔的孩子就是你的堂兄弟，
<u>所以当我们在描述和你同一层的像g、h、i、j这几个结点的时候，我们就可以称这些结点是你的堂兄弟结点，</u>

有的教材说只要在同一层的这些结点都是堂兄弟的关系。但是实际上像f这个结点一般来说，就会把它描述成你的兄弟结点，
而不会把它称为堂兄弟结点。

不过据我观察，**这个堂兄弟结点术语使用的频率很低。所以也不需要在意这些细节，**

![image-20241023152724033](/Users/yuebinghui/Documents/program/github/note/images/image-20241023152724033.png)

<u>那像最下面一层k和m这两个结点，它们之间也是堂兄弟的关系，</u>

![image-20241023152802286](/Users/yuebinghui/Documents/program/github/note/images/image-20241023152802286.png)

所以大家在做题的时候，
<u>如果遇到说。a是b的堂兄弟，那么其实它在背后想表达的意思就是a和b这两个结点，它是在同一层的。</u>
好，那这些术语的描述还是很直观的，

### 路径

好，那接下来还有两个概念叫做结点之间的路径，还有路径长度。
这两个术语也很直观吧，
比如说爷爷到你的路径就是这条对吧？

![image-20241023152922243](/Users/yuebinghui/Documents/program/github/note/images/image-20241023152922243.png)

但是需要注意的是，
当我们在树里边描述两个结点之间的路径的时候，
我们所谓的这个路径。是单向的，
也就只能从上往下，
或者说树里边的这些边，
它其实是有向的边。
你只能往一个方向走，所以我们可以说爷爷结点到你这个结点，它是有路径的。

### 路径长度

然后路径长度是二，所谓路径长度就是指它经过了几条边。

![image-20241023153137309](/Users/yuebinghui/Documents/program/github/note/images/image-20241023153137309.png)

那由于这个路径只能从上往下，所以从你这个结点到g这个结点其实就没有路径，因为这个路径是单向的，不能往上走。

![image-20241023153203570](/Users/yuebinghui/Documents/program/github/note/images/image-20241023153203570.png)

## 结点、树的属性描述

好，那以上这些就是用于描述结点之间关系的术语，
接下来再来看几个呃结点，
还有树的属性描述。

### 结点的层次（深度）

先来看几个直观的所谓结点的层次，
我们也可以把它称为结点的深度，
很直观吧，像a这个结点，
它是在第一层，
然后bcd是在第二层。
ef这些是在第三层。好以此类推，
就是从上往下数，

### 结点的高度

而所谓结点的高度就是从下往上数。
这个叫结点的高度，
比如说这些结点，它们的高度是一，
然后这些结点，它们的高度是二。好越往上，高度越高。

![image-20241023153743556](/Users/yuebinghui/Documents/program/github/note/images/image-20241023153743556.png)

树的高度（深度）

好那树的高度或者也可以说树的深度，其实就是指它总共有多少层。
这棵树它的高度就是四。

好，这几个术语都很直观，接下来看两个重要的术语。

![image-20241023153816080](/Users/yuebinghui/Documents/program/github/note/images/image-20241023153816080.png)

### 结点的度

<u>第一个叫结点的度，所谓结点的度就是指这个结点它有几个孩子，或者也可以理解成它有几个分支。</u>
比如说像c这个结点，它只有一个分支，因此c这个结点的度就是1
b这个结点，它的度就是二。另
外，像mij这些结点，它们已经没有分支了，所以这几个结点的度都是零

![image-20241023154030816](/Users/yuebinghui/Documents/program/github/note/images/image-20241023154030816.png)

<u>好，所以像这些度大于零的结点，其实就是我们之前说的分支结点，或者也可以叫做非叶子结点非。终端结点，</u>
<u>然后度为零的这些结点就是叶子结点</u>

![image-20241023154105572](/Users/yuebinghui/Documents/program/github/note/images/image-20241023154105572.png)

#### 树的度

好，那这是结点的度，那与之对应的还有一个概念叫做数的度。
<u>一个树，它的度是多少呢？就要看它的各个结点当中度的最大值，</u>
那像左边这棵树，我们看遍所有的结点是不是分支数最多的也就只有三个，

也就是a和d。因此，这棵树的度就是三。

![image-20241023154238314](/Users/yuebinghui/Documents/program/github/note/images/image-20241023154238314.png)

**这两个概念十分重要，**
**我们的很多考题核心都是从结点的度或者树的度，**
**作为一个条件来出题。具体会怎么考？**

我们在下一小节当中再进行介绍，

<u>那这再给大家提个醒，所谓结点的层次，</u>
<u>我们一般默认是从一开始的，</u>
但是有的教材也会把最上面这一层称为第零层。
然后这层是第一层，
那如果考试当中大家看到题目说这个深度或者说层次从零开始计算，那也不要觉得奇怪。
<u>当然，我们默认是从一开始的</u>

![image-20241023154456157](/Users/yuebinghui/Documents/program/github/note/images/image-20241023154456157.png)

## 有序树

好，接下来再介绍两个概念，分别是有序树和无序树。所谓有序树，就是指各个子树。它从左至右是有次序的，不可以互换。

比如说像我们之前提到的家谱，那通常记载家谱的时候都是按照这些孩子呃出生的顺序，
从左到右这样排列的。
所以如果你用树来表示家谱的话，
那这些结点的次序交换其实就会导致它的这个含义发生错误。

![image-20241023154633932](/Users/yuebinghui/Documents/program/github/note/images/image-20241023154633932.png)

## 无序树

好，那与此相对的所谓无序树，
就是指各个子树从左至右是无次序的，可以互换，
比如说我们之前提到过。如果我们这个数只是要做一个对国家的行政区进行一个划分，
但是这些子树其实谁排在谁的前面都无所谓，
因为我们这个数据结构的目的只是对行政区进行一个划分。

好，总之一棵树，它到底是有序树还是无序树？
具体要看你要用这个树来存什么，
是不是需要用树里边这些结点的左右位置关系来反映出某些逻辑关系。
如果需要的话，那就是有序数，如果不需要的话，就是无序数。

好，那这是有序数和无序数的概念，

![image-20241023154743278](/Users/yuebinghui/Documents/program/github/note/images/image-20241023154743278.png)

## 森林

好，最后我们再来认识一个概念，叫做森林。
所谓的森林，就是指由m课互不相交的树组成的集合，也很直观吧，因为大自然里的森林就是由很多棵树组成的，
所以比如说像这个地方有三棵树，它们互不相交。这几棵树就可以组成一个森林，

而如果我们把这几棵树都连上同一个根结点的话，那这个森林就变成了一棵树。
那森林和树之间的相互转换，
也是我们考研当中一个比较重要的考点。我们会用之后的小节进行更详细的介绍，

![image-20241023154931384](/Users/yuebinghui/Documents/program/github/note/images/image-20241023154931384.png)

那什么时候会用到森林这种数据结构呢？
比如我们可以用森林来表示，全中国所有人家的家谱，因为不同姓氏的人家，他们的这个家谱数肯定是互不相交的。

好，那最后还需要注意一个点，我们的树可以有零个结点，
也就是允许有空树这样的特殊状态，
那同样的我们的森林也可以有零棵树。
也就是允许有**空森林**这样的一个状态

![image-20241023155038508](/Users/yuebinghui/Documents/program/github/note/images/image-20241023155038508.png)

好的，那这个小节我们介绍了一些简单的和树相关的基本概念。都很好理解，
需要注意这样的几个地方，
首先子树的概念要知道，
另外需要注意，当我们在谈论结点之间的路径的时候。我们的这些边它是有向的，只能从上至下走，而不能从下往上，
另外结点的度和数的度这两个概念是。考题当中经常出现的，
我们还会用下一小节加深对这两个概念的理解好，那以上就是这一小节的全部内容。

![image-20241023155128620](/Users/yuebinghui/Documents/program/github/note/images/image-20241023155128620.png)

## 树的性质

各位同学大家好，在这个小节中我们会学习树的一些常考的性质，
那第一个性质

### 树的结点的个数等于结点总度数加一

树的结点的个数等于总度数加一，
那节点的度数，
我们上小节中学过，就是指这个节点，它有几个孩子，几个分支。
<u>每一个分支下面都会连一个孩子，也就说每一个宝宝头上都会有个天线，但是只有根节点头上是没有天线的。</u>
**所以结点的总数等于总度数再加一好，**

![image-20241023155919113](/Users/yuebinghui/Documents/program/github/note/images/image-20241023155919113.png)

### 度m的树和m叉数的区别

第二个性质度为
度m的树和m叉数的区别。那上一小节中，
<u>我们学过所谓树的度，是指这个数里边各个结点的度的最大值，</u>
<u>而m叉树是指每一个结点最多只能有m个孩子的树。</u>
这两个概念是比较容易混淆的

<u>比如说一棵度为三的树，就意味着这棵树里边至少会有一个结点，它的度数为三。</u>

<u>但是对于三叉树来说，我们只是规定了每个节点最多只有三个孩子，</u>
<u>但如果像这棵树这样，所有的节点，它的孩子数量都小于三。</u>
<u>那它依然是一个合法的三叉树，</u>

![image-20241023160338029](/Users/yuebinghui/Documents/program/github/note/images/image-20241023160338029.png)

**另外甚至还可以存在m叉空树这样的状态，**

![image-20241023160350837](/Users/yuebinghui/Documents/program/github/note/images/image-20241023160350837.png)

**而度为m的树，它肯定是一棵非空树，**因为我们至少要保证它里边至少有一个结点。下面有m个孩子，
所以对于一个度为m的数来说，它至少会有m+1个结点，
就是下面m个孩子，再加上上面的一个根结点。

![image-20241023160424617](/Users/yuebinghui/Documents/program/github/note/images/image-20241023160424617.png)

<u>所以度为m的数和m叉树这两种树都要求任意一个结点的孩子数要小于等于m，</u>但是它们之间也有一些细微的区别。
这也是选择题中比较容易考察的点好，

![image-20241023160457743](/Users/yuebinghui/Documents/program/github/note/images/image-20241023160457743.png)

### 度为m的树第i层至多有$m^{i-1}$个结点(i>=1) - m叉树第i层至多有$m^{i-1}$个结点(i>=1)

下面是第三个性质
度为m的数，第i层最多只有m的i- 1次方个结点来。

来看一下，下面这是一棵度为三的树，
那么第一层根结点肯定只有一个，
由于它的度为三，所以根结点下面最多只能有三个孩子。所以第二层最多只有三的一次方这么多个，
再往下的话，第二层的结点又可以最多呃每一个有三个孩子，所以接下来一层就应该有三的二次方这么多个结点。
好以此类推，

那当然，我们也可以说m叉树的第i层至多有这么多个结点，因为m叉树也是规定了每一个结点，它最多能有三个孩子。

![image-20241023161045198](/Users/yuebinghui/Documents/program/github/note/images/image-20241023161045198.png)

### 高度为h的m叉树至多有$\frac{m^h-1}{m-1}$个结点

第四个考点高度为h的m叉树
最多有这么多个结点，
那之前我们已经算出了每一层最多会有多少个结点，
我们把它加起来，总共加h层就可以得到这个结果。
这是一个简单的等比数列求和问题，

不知道大家还记不记得这是高中的知识啊？
那这个地方是q的N次方。不知道为什么，我这儿放映幻灯片的时候，它显示就会出现问题，并不是q乘n，而是q的N次方。

![image-20241023162915951](/Users/yuebinghui/Documents/program/github/note/images/image-20241023162915951.png)

好，那这儿我们探讨的是最多会有多少个结点，
那最少会有多少个呢？需要注意这儿，
我们指的是m叉树
高度为h的m叉树。之前我们已经说了，
<u>对于m叉树来说，我们只是规定了每一个节点的孩子数量，他的上限应该是多少，而没有规定他的下限。所以结点数最少的情况应该是从根结点一直往下，每一个结点都只有一个孩子的情况，</u>
**所以高度为h的m叉树，它的结点数最少可以有h个。**

<u>而对于度为m的数来说，我们至少要保证它至少要有一个结点，有m个孩子，所以它至少应该有h再加上m-1这么多个结点。</u>
这也是比较容易犯错的地方好，

### 高度为h的m叉树至少有h个结点 - 高度为h度为m的树至少有h+m-1个结点

![image-20241023163506269](/Users/yuebinghui/Documents/program/github/note/images/image-20241023163506269.png)

### 具有n个结点的m叉树的最小高度为$log_m(n(m-1)+1)$ 

第六个考点有n个结点的m叉树，它的最小高度应该是这么多。对于这么多节点的m叉树来说，
我们要让它的高度最小，
那是不是我们就需要保证它尽可能每一个节点都有尽可能多的孩子，也就是会有m个孩子。
这样的话，这个树就是往宽处长，而不是往高处长好，
那我们假设呃，这个树它的最小高度应该是h。

![image-20241023163907785](/Users/yuebinghui/Documents/program/github/note/images/image-20241023163907785.png)

那刚才我们在这个地方已经知道啊，高度为h的m叉树，
它最多可以有多少个结点，

![image-20241023163941410](/Users/yuebinghui/Documents/program/github/note/images/image-20241023163941410.png)

我们把它给代进去，
1chu这是高度为h的m叉树，它最多可以有多少个结点
然后2chu如果我们再把它减一层，也就是有h- 1层的话，它最多应该有这么多个结点好，

那既然我们现在假设的是这n个结点至少有h层。
那么n的数量肯定要大于h- 1层的这个结点数的上限，
但是
它又要小于等于h层的数可以容纳的最大的结点数。

![image-20241023164258466](/Users/yuebinghui/Documents/program/github/note/images/image-20241023164258466.png)

好，那我们把这个不等式啊，
所有的地方都乘上m- 1，
然后再加上一，
那我们就可以得到这样的一个式子。

啊，这儿也是m的h次方呃，这是显示的问题，
我也不知道为什么好，

![image-20241023164338489](/Users/yuebinghui/Documents/program/github/note/images/image-20241023164338489.png)

接下来对这个不等式的三个部分都分别取对数那。
那就可以得到2chu这样的一个式子好，

那由于3chu这个部分的值，
它要小于等于h，
同时要大于h- 1，

所以当h的值等于这个值的时候就可以刚好满足这个不等式。
啊，这是向上取整的符号。

![image-20241023164920331](/Users/yuebinghui/Documents/program/github/note/images/image-20241023164920331.png)

好的，那这一小节中我们介绍了树的一些比较常考的性质，
<u>比较容易错的是度为m的数和m叉树，它们之间的区别。</u>
很多同学可能在大学四年期间内啊，对什么等比数列等叉树列，
这些知识都已经忘得差不多了。甚至有可能对对数，也就是log相关的这些数学知识都已经忘得差不多了，那这些东西都是需要大家自己去复习的。好的，那之后同学们还会在课后习题里接触到大量的呃和这些考点相关的习题，那以上就是这个小节的全部内容。

![image-20241023165026200](/Users/yuebinghui/Documents/program/github/note/images/image-20241023165026200.png)